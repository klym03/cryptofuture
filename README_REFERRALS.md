# üîó –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞

## –û–≥–ª—è–¥

–ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–æ—Ç–∞ —Ç–µ–ø–µ—Ä –º–∞—î –≤–ª–∞—Å–Ω–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –¥–ª—è –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è –¥—Ä—É–∑—ñ–≤ —Ç–∞ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–≤–æ—ó—Ö —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤.

## –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

### –î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:

#### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–≥–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
- –ö–æ–∂–µ–Ω –Ω–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—î —É–Ω—ñ–∫–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
- –§–æ—Ä–º–∞—Ç: `https://t.me/bot_name?start=U{user_id}_{random}`
- –ö–æ–¥ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ —ñ –Ω–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è

#### 2. –ö–Ω–æ–ø–∫–∞ "üîó –ú–æ—ó —Ä–µ—Ñ–µ—Ä–∞–ª–∏"
–ù–∞—Ç–∏—Å–Ω—É–≤—à–∏ –∫–Ω–æ–ø–∫—É, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å:
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:**
  - –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø—Ä–æ—à–µ–Ω–∏—Ö –¥—Ä—É–∑—ñ–≤
  - –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ –∑ –∞–∫—Ç–∏–≤–Ω–æ—é –ø—ñ–¥–ø–∏—Å–∫–æ—é
  
- **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:**
  - –ì–æ—Ç–æ–≤–µ –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ—à–∏—Ä–µ–Ω–Ω—è
  
- **–°–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤:**
  - –î–æ 10 –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–∞–ø—Ä–æ—à–µ–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
  - –î–∞—Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∫–æ–∂–Ω–æ–≥–æ
  - –°—Ç–∞—Ç—É—Å –ø—ñ–¥–ø–∏—Å–∫–∏ (üíé - —î –ø—ñ–¥–ø–∏—Å–∫–∞, üë§ - –±–µ–∑ –ø—ñ–¥–ø–∏—Å–∫–∏)

#### 3. –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
–°–∏—Å—Ç–µ–º–∞ –≤—ñ–¥—Å—Ç–µ–∂—É—î:
- –ö–æ–ª–∏ –¥—Ä—É–≥ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞–≤—Å—è
- –ß–∏ –æ—Ñ–æ—Ä–º–∏–≤ –≤—ñ–Ω –ø—ñ–¥–ø–∏—Å–∫—É
- Username –∞–±–æ —ñ–º'—è —Ä–µ—Ñ–µ—Ä–∞–ª–∞

### –ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –±–æ—Ç–∞:

```
üîó –í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞

üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
üë• –í—Å—å–æ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤: 5
üíé –ó –ø—ñ–¥–ø–∏—Å–∫–æ—é: 2

üåê –í–∞—à–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:
https://t.me/crypto_bot?start=U123456_A8K3

üí° –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:
‚ñ´Ô∏è –ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –∑ –¥—Ä—É–∑—è–º–∏
‚ñ´Ô∏è –í–æ–Ω–∏ –æ—Ç—Ä–∏–º–∞—é—Ç—å –±–æ–Ω—É—Å –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
‚ñ´Ô∏è –í–∏ –∑–º–æ–∂–µ—Ç–µ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ —ó—Ö –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

üë• –í–∞—à—ñ —Ä–µ—Ñ–µ—Ä–∞–ª–∏ (5):

1. üíé @username1 (15.10.2025)
2. üë§ @username2 (14.10.2025)
3. üíé @username3 (13.10.2025)
4. üë§ –Ü–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ (12.10.2025)
5. üë§ @username5 (11.10.2025)
```

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

**–¢–∞–±–ª–∏—Ü—è `users`:**
- `user_referral_code` - –≤–ª–∞—Å–Ω–∏–π —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∏–π –∫–æ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (UNIQUE)
- `referral_code` - –∫–æ–¥ —á–µ—Ä–µ–∑ —è–∫–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—Ä–∏–π—à–æ–≤

### –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏

1. **–ü—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó:**
   - –ù–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π `user_referral_code`
   - –Ø–∫—â–æ –≤—ñ–Ω –ø—Ä–∏–π—à–æ–≤ –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–º—É –ø–æ—Å–∏–ª–∞–Ω–Ω—é, –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è `referral_code`

2. **–ü—Ä–∏ –ø–µ—Ä–µ–≥–ª—è–¥—ñ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤:**
   - –°–∏—Å—Ç–µ–º–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –¥–µ `referral_code` = `user_referral_code` –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
   - –†–∞—Ö—É—î –∑–∞–≥–∞–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑ –ø—ñ–¥–ø–∏—Å–∫–æ—é
   - –ü–æ–∫–∞–∑—É—î —Å–ø–∏—Å–æ–∫ –∑ –¥–µ—Ç–∞–ª—è–º–∏

3. **–¢–∏–ø–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å:**
   - **–ê–¥–º—ñ–Ω—Å—å–∫—ñ:** —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è —á–µ—Ä–µ–∑ `/admin` (—Ñ–æ—Ä–º–∞—Ç: `–∫–æ–¥ –∑ 8 —Å–∏–º–≤–æ–ª—ñ–≤`)
   - **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫—ñ:** –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (—Ñ–æ—Ä–º–∞—Ç: `U{user_id}_{4 —Å–∏–º–≤–æ–ª–∏}`)

### API —Ñ—É–Ω–∫—Ü—ñ—ó

```python
# –û—Ç—Ä–∏–º–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
stats = await db.get_user_referral_stats(user_id)
# –ü–æ–≤–µ—Ä—Ç–∞—î: {"user_referral_code", "total_referrals", "subscribed_referrals"}

# –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤
referrals = await db.get_user_referrals(user_id)
# –ü–æ–≤–µ—Ä—Ç–∞—î: [{"user_id", "username", "first_name", "is_subscribed", "created_at"}, ...]

# –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∫–æ–¥—É (—Å—Ç–≤–æ—Ä—é—î —è–∫—â–æ –Ω–µ–º–∞—î)
code = await db.ensure_user_referral_code(user_id)

# –ó–Ω–∞–π—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∏–º –∫–æ–¥–æ–º
user = await db.get_user_by_referral_code(code)
```

## –ü–µ—Ä–µ–≤–∞–≥–∏ —Å–∏—Å—Ç–µ–º–∏

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è:** –ö–æ–¥–∏ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ  
‚úÖ **–ü—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∞—Ç—å –≤—Å—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É  
‚úÖ **–ú–æ—Ç–∏–≤–∞—Ü—ñ—è:** –õ–µ–≥–∫–æ –ø–æ—à–∏—Ä—é–≤–∞—Ç–∏ —Å–µ—Ä–µ–¥ –¥—Ä—É–∑—ñ–≤  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å:** –ü—ñ–¥—Ç—Ä–∏–º—É—î –Ω–µ–æ–±–º–µ–∂–µ–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤  
‚úÖ **–°—É–º—ñ—Å–Ω—ñ—Å—Ç—å:** –ü—Ä–∞—Ü—é—î –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ –∑ –∞–¥–º—ñ–Ω—Å—å–∫–∏–º–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏  

## –ú–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è (–º–∞–π–±—É—Ç–Ω—î)

- üéÅ –ë–æ–Ω—É—Å–∏ –∑–∞ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è –¥—Ä—É–∑—ñ–≤ (–¥–æ–¥–∞—Ç–∫–æ–≤—ñ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ —Å–ø—Ä–æ–±–∏)
- üí∞ –í–∏–Ω–∞–≥–æ—Ä–æ–¥–∏ –∑–∞ –ø—ñ–¥–ø–∏—Å–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤
- üìä –î–µ—Ç–∞–ª—å–Ω—ñ—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≥—Ä–∞—Ñ—ñ–∫–∏, –¥–∏–Ω–∞–º—ñ–∫–∞)
- üèÜ –¢–∞–±–ª–∏—Ü—è –ª—ñ–¥–µ—Ä—ñ–≤
- üì± –ö–Ω–æ–ø–∫–∞ –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –ø–æ—à–∏—Ä–µ–Ω–Ω—è –≤ —Å–æ—Ü–º–µ—Ä–µ–∂–∞—Ö
- üîî –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∫–æ–ª–∏ —Ä–µ—Ñ–µ—Ä–∞–ª –æ—Ñ–æ—Ä–º–ª—é—î –ø—ñ–¥–ø–∏—Å–∫—É

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏ –∑ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ—é —Å–∏—Å—Ç–µ–º–æ—é, –∑–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞: @nin_0009

